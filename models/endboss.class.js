class Endboss extends MovableObject {
    IMAGES_IDLE = [
        'img/zombie/Zombie_Villager_3/PNG/PNG Sequences/Idle/0_Zombie_Villager_Idle_000.png',
        'img/zombie/Zombie_Villager_3/PNG/PNG Sequences/Idle/0_Zombie_Villager_Idle_001.png',
        'img/zombie/Zombie_Villager_3/PNG/PNG Sequences/Idle/0_Zombie_Villager_Idle_002.png',
        'img/zombie/Zombie_Villager_3/PNG/PNG Sequences/Idle/0_Zombie_Villager_Idle_003.png',
        'img/zombie/Zombie_Villager_3/PNG/PNG Sequences/Idle/0_Zombie_Villager_Idle_004.png',
        'img/zombie/Zombie_Villager_3/PNG/PNG Sequences/Idle/0_Zombie_Villager_Idle_005.png',
        'img/zombie/Zombie_Villager_3/PNG/PNG Sequences/Idle/0_Zombie_Villager_Idle_006.png',
        'img/zombie/Zombie_Villager_3/PNG/PNG Sequences/Idle/0_Zombie_Villager_Idle_007.png',
        'img/zombie/Zombie_Villager_3/PNG/PNG Sequences/Idle/0_Zombie_Villager_Idle_008.png',
        'img/zombie/Zombie_Villager_3/PNG/PNG Sequences/Idle/0_Zombie_Villager_Idle_009.png',
        'img/zombie/Zombie_Villager_3/PNG/PNG Sequences/Idle/0_Zombie_Villager_Idle_010.png',
        'img/zombie/Zombie_Villager_3/PNG/PNG Sequences/Idle/0_Zombie_Villager_Idle_011.png',
        'img/zombie/Zombie_Villager_3/PNG/PNG Sequences/Idle/0_Zombie_Villager_Idle_012.png',
        'img/zombie/Zombie_Villager_3/PNG/PNG Sequences/Idle/0_Zombie_Villager_Idle_013.png',
        'img/zombie/Zombie_Villager_3/PNG/PNG Sequences/Idle/0_Zombie_Villager_Idle_014.png',
        'img/zombie/Zombie_Villager_3/PNG/PNG Sequences/Idle/0_Zombie_Villager_Idle_015.png',
        'img/zombie/Zombie_Villager_3/PNG/PNG Sequences/Idle/0_Zombie_Villager_Idle_016.png',
        'img/zombie/Zombie_Villager_3/PNG/PNG Sequences/Idle/0_Zombie_Villager_Idle_017.png'
    ];

    IMAGES_WALKING = [
        'img/zombie/Zombie_Villager_3/PNG/PNG Sequences/Walking/0_Zombie_Villager_Walking_000.png',
        'img/zombie/Zombie_Villager_3/PNG/PNG Sequences/Walking/0_Zombie_Villager_Walking_001.png',
        'img/zombie/Zombie_Villager_3/PNG/PNG Sequences/Walking/0_Zombie_Villager_Walking_002.png',
        'img/zombie/Zombie_Villager_3/PNG/PNG Sequences/Walking/0_Zombie_Villager_Walking_003.png',
        'img/zombie/Zombie_Villager_3/PNG/PNG Sequences/Walking/0_Zombie_Villager_Walking_004.png',
        'img/zombie/Zombie_Villager_3/PNG/PNG Sequences/Walking/0_Zombie_Villager_Walking_005.png',
        'img/zombie/Zombie_Villager_3/PNG/PNG Sequences/Walking/0_Zombie_Villager_Walking_006.png',
        'img/zombie/Zombie_Villager_3/PNG/PNG Sequences/Walking/0_Zombie_Villager_Walking_007.png',
        'img/zombie/Zombie_Villager_3/PNG/PNG Sequences/Walking/0_Zombie_Villager_Walking_008.png',
        'img/zombie/Zombie_Villager_3/PNG/PNG Sequences/Walking/0_Zombie_Villager_Walking_009.png',
        'img/zombie/Zombie_Villager_3/PNG/PNG Sequences/Walking/0_Zombie_Villager_Walking_010.png',
        'img/zombie/Zombie_Villager_3/PNG/PNG Sequences/Walking/0_Zombie_Villager_Walking_011.png',
        'img/zombie/Zombie_Villager_3/PNG/PNG Sequences/Walking/0_Zombie_Villager_Walking_012.png',
        'img/zombie/Zombie_Villager_3/PNG/PNG Sequences/Walking/0_Zombie_Villager_Walking_013.png',
        'img/zombie/Zombie_Villager_3/PNG/PNG Sequences/Walking/0_Zombie_Villager_Walking_014.png',
        'img/zombie/Zombie_Villager_3/PNG/PNG Sequences/Walking/0_Zombie_Villager_Walking_015.png',
        'img/zombie/Zombie_Villager_3/PNG/PNG Sequences/Walking/0_Zombie_Villager_Walking_016.png',
        'img/zombie/Zombie_Villager_3/PNG/PNG Sequences/Walking/0_Zombie_Villager_Walking_017.png',
        'img/zombie/Zombie_Villager_3/PNG/PNG Sequences/Walking/0_Zombie_Villager_Walking_018.png',
        'img/zombie/Zombie_Villager_3/PNG/PNG Sequences/Walking/0_Zombie_Villager_Walking_019.png',
        'img/zombie/Zombie_Villager_3/PNG/PNG Sequences/Walking/0_Zombie_Villager_Walking_020.png',
        'img/zombie/Zombie_Villager_3/PNG/PNG Sequences/Walking/0_Zombie_Villager_Walking_021.png',
        'img/zombie/Zombie_Villager_3/PNG/PNG Sequences/Walking/0_Zombie_Villager_Walking_022.png',
        'img/zombie/Zombie_Villager_3/PNG/PNG Sequences/Walking/0_Zombie_Villager_Walking_023.png'
    ];

    IMAGES_DYING = [
        'img/zombie/Zombie_Villager_3/PNG/PNG Sequences/Dying/0_Zombie_Villager_Dying_000.png',
        'img/zombie/Zombie_Villager_3/PNG/PNG Sequences/Dying/0_Zombie_Villager_Dying_000.png',
        'img/zombie/Zombie_Villager_3/PNG/PNG Sequences/Dying/0_Zombie_Villager_Dying_000.png',
        'img/zombie/Zombie_Villager_3/PNG/PNG Sequences/Dying/0_Zombie_Villager_Dying_000.png',
        'img/zombie/Zombie_Villager_3/PNG/PNG Sequences/Dying/0_Zombie_Villager_Dying_000.png',
        'img/zombie/Zombie_Villager_3/PNG/PNG Sequences/Dying/0_Zombie_Villager_Dying_000.png',
        'img/zombie/Zombie_Villager_3/PNG/PNG Sequences/Dying/0_Zombie_Villager_Dying_000.png',
        'img/zombie/Zombie_Villager_3/PNG/PNG Sequences/Dying/0_Zombie_Villager_Dying_000.png',
        'img/zombie/Zombie_Villager_3/PNG/PNG Sequences/Dying/0_Zombie_Villager_Dying_000.png',
        'img/zombie/Zombie_Villager_3/PNG/PNG Sequences/Dying/0_Zombie_Villager_Dying_000.png',
        'img/zombie/Zombie_Villager_3/PNG/PNG Sequences/Dying/0_Zombie_Villager_Dying_000.png',
        'img/zombie/Zombie_Villager_3/PNG/PNG Sequences/Dying/0_Zombie_Villager_Dying_000.png',
        'img/zombie/Zombie_Villager_3/PNG/PNG Sequences/Dying/0_Zombie_Villager_Dying_000.png',
        'img/zombie/Zombie_Villager_3/PNG/PNG Sequences/Dying/0_Zombie_Villager_Dying_000.png',
        'img/zombie/Zombie_Villager_3/PNG/PNG Sequences/Dying/0_Zombie_Villager_Dying_000.png'
    ];

    world;
    positionX = 2050;
    positionY = -50;
    otherDirection = true;
    width = 450;
    height = 450;
    distance;
    speedX = 8;
    goesBack = false;
    hp = 100;

    constructor() {
        super().loadImg(this.IMAGES_IDLE[0]);
        this.loadImages(this.IMAGES_IDLE);
        this.loadImages(this.IMAGES_WALKING);
        this.loadImages(this.IMAGES_DYING);

        this.animate();
    }

    animate() {
        setInterval(() => {

            if (this.world && this.world.character) {  // Überprüfen, ob world und character gesetzt sind
                this.distance = this.world.calculateDistance();
            }

            if (this.distance >= 300) {
                this.animateImages(this.IMAGES_IDLE);
            }
            
            if (!this.goesBack && this.distance <= 300) {
                this.animateImages(this.IMAGES_WALKING);
                this.moveLeft();
                if (this.positionX <= 1500) {
                    this.goesBack = true;
                }
            }


            if (this.goesBack) {
                this.animateImages(this.IMAGES_WALKING);
                this.moveRight();
                if (this.positionX >= 2050) {
                    this.goesBack = false;  // Wieder zum Spieler zurückkehren
                }
            }

            // let deathInterval = setInterval(() => {

                // if (this.dead()) {

                    
            //         this.animateImages(this.IMAGES_DYING);
            //         // this.dyingSound.play();
            //         // this.zombieMoan.play();
            //         if (this.currentImg == this.IMAGES_DYING.length) {
            //             clearInterval(deathInterval);
                    // }
            //     }
            // }, 1000 / 60);
        }, 1000 / 20);
    }
}
